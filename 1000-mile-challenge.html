<!doctype html>
<html lang="en" data-bs-theme="dark">

<head>
    <title>NHS 1000 Mile Challenge</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A front-end for a very convoluted pipeline which takes running and walking data from an Apple Watch via Hadge, GitHub Actions, and gists masquerading as JSON files.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
    <div class="container col-sm-6">
        <h1 class="pt-4">Hello, world!</h1>

        <noscript>
            <div class="alert alert-warning" role="alert">
                <span class="visually-hidden">Warning: </span>
                This site won't display any data with JavaScript disabled. <a href="https://gist.githubusercontent.com/tomchatting/74ac0a895a88db1df3e359a046a1f3b0/raw/distance-covered.json">You can still view the data on my activity in raw JSON on GitHub ></a>.
            </div>
        </noscript>

        <p>ðŸ‘‹, my name is <a href="https://github.com/tomchatting">Tom</a> and I'm a Business Intelligence Developer in 
            Information Services, part of the Finance and Information Team at 
            <a href="https://airedale-trust.nhs.uk">Airedale NHS Foundation Trust.</a></p>

        <p>I'm taking part in the NHS 1000 Miles Challenge, as part of the celebrations for the <a
                href="https://www.england.nhs.uk/nhsbirthday/get-involved/">NHS's 75th Birthday</a>. The goal is to 
            move 1000 miles in 2023. These are my movement totals for the year provided by 
            <a href="https://www.apple.com/ios/health/">Apple Health</a>.</p>

        <h3>Latest data available to <span id="latest-heading-placeholder"
            class="placeholder col-2"></span><span id="today-date"></span></h3>

        <p>Year progress:
        <div class="progress" role="progressbar" aria-label="Visual representation of our progress through the year"
            style="height: 30px" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar progress-bar-striped progress-bar-animated" id="year-percent" style="width: 100%;"></div>
        </div>
        </p>

        <h3 id="moved-heading" class="placeholder-glow"><span id="moved-heading-placeholder"
                class="placeholder col-6"></span></h3>

        <p>
        <div class="progress" role="progressbar" aria-label="Visual representation of progress in 1000 mile challenge"
            style="height: 30px" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" style="width: 100%;"
                id="moved-percent"></div>
        </div>
        </p>

        <p>Hopefully, the second (green) bar above is ahead of the first (blue) bar. This would suggest I'm on target.</p>

        <p class="mb-4">
            <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseGeekyPart" role="button"
                aria-expanded="false" aria-controls="collapseGeekyPart">
                How does this work?
            </a>
        </p>
        <div class="collapse mb-4" id="collapseGeekyPart">
            <div class="card card-body">
                <p class="font-monospace">How do you know someone has an Apple Watch? They tell you.</p>
                <p class="font-monospace">I have an Apple Watch. This syncs to a private data repository on my GitHub account. Every time I
                    complete any kind of recorded workout, or at the end of a day, my movement totals are sent across in
                    a big CSV dump. I use GitHub Actions to turn this into a JSON feed which powers this page.</p>
                <p class="font-monospace">I've open-sourced the majority of this project (with the exception of my granular health data) 
                    and it is available under <a href="https://github.com/tomchatting/flaky-toothbrush/blob/main/LICENSE">MIT License</a> 
                    at <a href="https://github.com/tomchatting/flaky-toothbrush">https://github.com/tomchatting/flaky-toothbrush</a>.
                </p>
            </div>
        </div>

        <footer class="mt-auto text-white-50 py-4 border-top">
            <p><abbr title="I admit I've spent a lot of time iterating this">Initially</abbr> made in a day by <a href="/">Tom Chatting</a>.</p>
        </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="/1000-mile-challenge.js"></script>
</body>

</html>
